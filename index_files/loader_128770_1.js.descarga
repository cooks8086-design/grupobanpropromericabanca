window.ggLoader||(ggLoader={},ggConfig={data:{account_id:128770,account_is_test:0,parent_id:106461,generated_at:1760374328,api_url:"https://gubagoo.io/api",debug:!1,environment:"production",server_url:"https://gubagoo.io",comet_url:"https://gb1-node.gubagoo.io",show_in_iframe:!1,ai_filter_enabled:!1,toolbar_id:1,toolbar_cdn:"https://cdn.gubagoo.io",toolbar_enabled:1,hidden:!1,social_media_top_right:"0",default_state:"ui_v3",mobile_state:"chat-btn-right",language:"es",toolbar_small:"",mobile_toolbar_small:"",special_offer_id:"",special_offer_form:"",hide_special_icon:"0",disable_mobile:!1,prevent_jquery_load:!1,show_privacy:"default",terms_conditions_hover:!1,toolbar_use_dealer_vdp:!1,toolbar_chat_hide_tradein:!1,scheduling_location_id:"",cbo_enabled:!1,cbo_widget_append:!1,vdp_flow:"vdp",vdp_version:4,toolbar_dept_picker_enabled:!1,toolbar_chat_disable_transcript_greeter:!1,toolbar_chat_desktop_ui_left:!0,toolbar_chat_mobile_ui_left:!0,toolbar_chat_bubble_blinker:!1,toolbar_enable_marketing_opt_in:!1,toolbar_offers_terms_conditions_link:!1,apple_biz_id:!1,ga_tracking_codes:!0,ga_v4_measurement_ids:["G-LDXBCW3S7J"],gtm_ids:!1,whatsapp_enabled:!1,whatsapp_number:null,special_btn_label:"Specials",chat_endorsement:"",website_provider:"dealeron",tracking_provider:null,integration_provider:null,after_hours_enabled:!1,pdpa_policy:!1,pdpa_policy_link:"",pdpa_policy_message:"",group_provider:null,fake_operator:!0,salutation_enabled:!1,multilingual:!1,autotranslate_enabled:!1,allows_exclamation_marks:!0,chat_version:"v4",hide_prices:"",dealer_id:"",cross_site_redirect_element_key:"",ai_transparency:!1,custom_sms_terms:"",toolbar_agent_join_notification_delay:2e4,toolbar_agent_join_delay_message_first:"Gracias por su paciencia. Estoy atendiendo a otro cliente en este momento, pero estaré con usted muy pronto.",toolbar_agent_join_delay_msg_1_personal:"",toolbar_agent_join_delay_message_second:"Disculpa la espera, estaré contigo en cuanto pueda.",toolbar_agent_join_delay_msg_2_personal:"",endorsement_provider:null,is_shift:!1,show_sms_customer_name_field:!1,custom_sms_message_label:"",sms_required_fields:"phone",bypass_store_picker_on_vdp:!0,toolbar_engagement_button_type:"classic",toolbar_engagement_button_icon:"",toolbar_engagement_button_primary_label:!1,toolbar_engage_btn_primary_lbl_personal:!1,toolbar_engagement_button_label:"",toolbar_engagement_button_labelpersonal:"",toolbar_engagement_expand_collapse_type:"auto_expand_and_collapse",focus_branch_number:"",after_hours_message:"",toolbar_autoengage_score:700,virtual_meetings:!1,publisher_classic_disabled:!1,scheduling_provider:"",is_unite_digital:!1,is_tealium:!1,is_gtm:!1,has_hyundai_tracking:!1,application_environment:"production",use_audi_theme:!1,loader_script_url:"https://cdn.gubagoo.io/toolbars/128770/loader_128770_1.js",publisher_schedule_service_cta:!1,disable_chat_audio:!1}},ggFramework=window.ggFramework||{},window.gubaPersistedStorage??={},function(e,t){var o,n;ggFramework.ie=function(){if(ggFramework.ie_version)return ggFramework.ie_version;var e=/(msie) ([\w.]+)/i.exec(navigator.userAgent)||[],t=e.length>1&&parseInt(e[2]);return!t&&/Trident\/7\./.test(navigator.userAgent)&&(t=11),ggFramework.ie_version=t||99,ggFramework.ie_version},ggFramework.isMobile=function(){if("#m"==window.location.hash)return!0;for(var e=["iphone","ipod","series60","symbian","android","windows ce","blackberry","palm","avantgo","docomo","vodafone","j-phone","xv6850","htc","lg;","lge","mot","nintendo","nokia","samsung","sonyericsson","bb10"],t=navigator.userAgent.toLowerCase(),o=0;o<e.length;o++)if(null!=t.match(e[o]))return e[o];return!1},ggConfig=window.ggConfig||{data:{}},ggConfig.get=function(e){return void 0!==this.data[e]&&this.data[e]},ggConfig.isEmpty=function(e){var t=ggConfig.get(e);return!t||0===t.length},ggConfig.set=function(e,t){this.data[e]=t},ggConfig.extend=function(e){for(var t in e)this.data[t]=e[t]},ggDebug=function(e){return-1===window.location.href.indexOf("debug_"+e)?function(){}:function(){var t=Array.from(arguments);t.unshift("[DEBUG]["+e+"]"),window.console&&window.console.log.apply(this,t)}},function(){e.loaded={};var o=e.loaded;window.ggUrl=function(t){return-1===t.indexOf("//")&&(t=ggConfig.get("toolbar_cdn")+t),e.ie()<11&&"http:"===window.location.protocol&&(t=t.replace("https:","http:")),t},e.serialize=function(t,o){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=o?o+"["+i+"]":i,a=t[i];n.push("object"==typeof a?e.serialize(a,r):encodeURIComponent(r)+"="+encodeURIComponent(a))}return n.join("&")},e.sendRequest=function(t,o,n,i){(o=o||{}).data_type=i||"json";var r=e.serialize(o),a="GET";(t+r).length>=2083?(r="",a="POST"):r="?"+r,t=ggUrl(t)+r;var s=new XMLHttpRequest;return s.open(a,t,!0),s.timeout=o.timeout||18e3,s.onerror=function(e){console.log("CORS error",e)},s.onprogress=function(){},s.onload=function(){if(s.readyState||(s.readyState=4,s.status=200),4===s.readyState){if(!(s.status>=200&&s.status<400))throw"Response returned with non-OK status";switch(i){case"text":n(s.responseText);break;default:let e=s.responseText[0],t=s.responseText[s.responseText.length-1];n("{"!==e&&"["!==e||"}"!==t&&"]"!==t?{content:s.responseText}:JSON.parse(s.responseText))}}},r?s.send():(s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("X-Emulated-Get","1"),s.send(JSON.stringify(o))),window.XDomainRequest&&e.pendindRequests.push(s),s},e.pendindRequests=[],e.executeJs=function(e){new Function(e)()},e.getScript=function(t,n,i,r){if(t=ggUrl(t),i)return e.loadFromCache(t,(function(i,r){r&&e.executeJs(r),e.executeJs(i),o[t]=!0,n&&n(!1)})),!1;var a=!1,s=document.createElement("script");s.classList.add("gg-script"),r&&r.id&&s.setAttribute("id",r.id),s.type="text/javascript",s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a=!0,n&&n(s),s.onload=s.onreadystatechange=null)},s.src=t,document.getElementsByTagName("head")[0].appendChild(s)},e.getCss=function(t,n){if(o[t])return!1;if(t=ggUrl(t),n)return e.loadFromCache(t,(function(n){e.insertRawCss(n),o[t]=!0})),!1;var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(i),o[t]=!0},e.loadFromLocalStorage=function(t,o,n){const i=t.split(".").pop(),r=i+"-"+ggConfig.get("generated_at")+"-"+e.hash(t),a=!n&&ggStorage.getCache(r);return a?(o(a),!0):(e.sendRequest(t,{},(function(e){const t=e.content?e.content:e;n||ggStorage.setCache(r,t),o(t,e.plugins)}),"css"===i?"text":"json"),!1)},e.loadFromCache=function(e,o){const n=!!t.get("debug");if(n||!("caches"in window))return ggFramework.loadFromLocalStorage(e,o,n);let i=!0;caches.open("ggCacheApi").then((function(t){const n="t="+ggConfig.get("generated_at"),r=e+(-1!==e.indexOf("?")?"&":"?")+n;return t.match(r).then((function(e){return e&&e.ok?e.text():(i=!1,t.add(r).then((function(){return t.match(r).then((function(e){return e.text()}))})))})).then((function(e){if(!e)throw Error("Cannot fetch data");const t=e[0],n=e[e.length-1];if("{"!==t&&"["!==t||"}"!==n&&"]"!==n)o(e);else{const t=JSON.parse(e);o(t.content,i?t.plugins:null)}})).finally((function(){return t.keys().then((function(e){e.length>10&&e.forEach((function(e){if(-1===e.url.indexOf(n))return t.delete(e)}))}))}))})).catch((function(t){console.log(t),ggFramework.loadFromLocalStorage(e,o,n)}))},e.insertRawCss=function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.classList.add("gg-css"),document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},e.require=function(t,n,i,r){if(o[t])return n&&n(),!1;o[t]=!0,e.getScript(t,n,i,r)},e.hash=function(e){var t,o,n=0;if(0===e.length)return n;for(t=0,o=e.length;t<o;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}}(),window.ggHook=(o=window.location.href.indexOf("gg_hooks_debug")>-1,n=[],{STOP_CODE:-1,register:function(e,t,o){void 0===n[e]&&(n[e]=[]),o?n[e].unshift(t):n[e].push(t)},fire:function(e,t){if(o&&window.console&&console.log("EVENT FIRED: "+e,t),void 0!==n[e])for(var i=0;i<n[e].length;++i)if(-1===n[e][i](t))return-1;return!0}}),ggFramework.cookie_enabled=null,ggFramework.checkCookie=function(){if(null!==ggFramework.cookie_enabled)return ggFramework.cookie_enabled;var e=navigator.cookieEnabled;if(!e){const t=new Date;t.setSeconds(t.getSeconds()+1),document.cookie=`testcookie=; expires=${t.toUTCString()}`,e=document.cookie.indexOf("testcookie")>=0}return ggFramework.cookie_enabled=e,e},ggFramework.setCookie=function(e,t,o){(o=o||{expires:1800,path:"/",domain:window.location.hostname}).domain=o.domain.replace("www.","");var n=o.expires;if("number"==typeof n&&n){var i=new Date;i.setTime(i.getTime()+1e3*n),n=o.expires=i}n&&n.toUTCString&&(o.expires=n.toUTCString());var r=e+"="+(t=encodeURIComponent(t));for(var a in o){r+="; "+a;var s=o[a];!0!==s&&(r+="="+s)}window.self!==window.top?document.cookie=r+"; SameSite=None; Secure":document.cookie=r},ggFramework.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},ggFramework.expireAllCookies=()=>{if(!ggFramework.checkCookie()||!document.cookie)return;const e=document.cookie.split(";");for(let t=0;t<e.length;t+=1){const o=e[t],n=o.indexOf("="),i=n>=0?o.substring(0,n):o;document.cookie=`${i}=; domain=${window.location.hostname}; expires=Thu, 01 Jan 1970 00:00:00 GMT`}},["ERA_IGNITE","FOCUS"].includes(ggConfig.data.integration_provider)&&ggFramework.expireAllCookies(),window.ggStorage=new function(){var e=!1,t=this,o=ggConfig.get("account_id"),n=ggConfig.get("toolbar_id");"undefined"!=typeof Storage&&(e=!0);try{localStorage.setItem("test",1)}catch(t){e=!1}finally{e&&localStorage.removeItem("test")}const i=["ERA_IGNITE","FOCUS"].includes(ggConfig.data.integration_provider);e&&i&&localStorage.clear(),e&&!ggFramework.checkCookie()&&(e=!1);var r=function(e){return"gg_"+o+"_"+n+"_"+e};this.enabled=e,this.get=function(t){return!!e&&localStorage.getItem(r(t))},this.set=function(t,o){if(!e)return!1;localStorage.setItem(r(t),o)},this.remove=function(t){if(!e)return!1;localStorage.removeItem(r(t))},this.test=function(t){return!!e&&null!==localStorage.getItem(r(t))},this.setJSON=function(e,o,n){t.set(e,JSON.stringify(o)),t.setExpiry(e,n)},this.getJSON=function(e){if(!t.checkExpiry(e))return t.clear(e),!1;var o=t.get(e);if(o)try{o=JSON.parse(o)}catch(e){o=!1}return o},this.clear=function(e){t.remove(e),t.remove(e+":cache_expiry")},this.setExpiry=function(e,o){return t.set(e+":cache_expiry",!!o&&parseInt((new Date).getTime()/1e3)+o)},this.checkExpiry=function(e){var o=parseInt(t.get(e+":cache_expiry"));return!o||o>=parseInt((new Date).getTime()/1e3)},this.cache_fallback={},this.getCache=function(t){if(!e)return ggStorage.cache_fallback[t];var o=ggStorage.get(t+"_time");return!!(o&&ggConfig.get("generated_at")<=parseInt(o))&&ggStorage.get(t)},this.setCache=function(t,o){e||(ggStorage.cache_fallback[t]=o),ggStorage.set(t+"_time",ggConfig.get("generated_at")),ggStorage.set(t,o)},this.checkSpace=function(){if(-1===window.location.href.indexOf("debug_ls"))return;let e="";for(var t in console.log("Current local storage: "),window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=window.localStorage[t],console.log(t+" = "+(16*window.localStorage[t].length/8192).toFixed(2)+" KB"));console.log(e?"\nTotal space used: "+(16*e.length/8192).toFixed(2)+" KB":"Empty (0 KB)"),console.log(e?"Approx. space remaining: "+(5120-(16*e.length/8192).toFixed(2))+" KB":"5 MB")}},ggFramework.checkHeadless=function(){return!ggConfig.get("environment")?.startsWith("development")&&"local-dev"!=ggConfig.get("environment")&&(window._phantom||window.callPhantom?"phantom":window.__phantomas?"phantomas":window.Buffer&&"KSL"!==ggConfig.data.integration_provider&&137142!==ggConfig.get("account_id")?"nodejs":window.emit?"couchjs":window.spawn?"rhino":window.webdriver?"selenium":!(!navigator.webdriver&&""!=navigator.languages&&navigator.onLine&&Function.prototype.bind&&!(Function.prototype.bind.toString().indexOf("native code")>0&&Function.prototype.bind.toString().replace(/bind/g,"Error")!=Error.toString()))&&"headless")};const i=window.ggLoader={isMobile:!1,disabled:!1,load:function(){let o="/toolbars/"+t.get("account_id")+"/toolbar_";i.isMobile&&(o+="m_"),o+=t.get("account_id")+"_"+t.get("toolbar_id")+".js",e.getScript(o,!1,!t.get("debug"))},init:function(){return i.isMobile=e.isMobile(),"ipad"===i.isMobile&&(i.isMobile=!1),!(!t.get("toolbar_enabled")||!t.get("show_in_iframe")&&window!==window.top||e.ie()<8||i.isMobile&&t.get("disable_mobile")||e.checkHeadless()||"true"==ggStorage.get("toolbar_blocked")||(this.loadScripts(),0))},loadScripts:function(){if("function"==typeof jQuery&&"object"==typeof jQuery.fn||t.get("prevent_jquery_load"))window.gubaPersistedStorage.conditionallyApplyJqueryMonkeyPatches?.();else{const t=!window.OriginalFunction;e.getScript("/v3/jquery.js",window.gubaPersistedStorage.conditionallyApplyJqueryMonkeyPatches,t,{id:"gg-jquery"})}if(!window.CBOLoader){let t="https://cdn.gubagoo.io"===ggConfig.get("toolbar_cdn")?"https://cbo-loader.gubagoo.io/loader.js":"https://cbo-loader-test.gubagoo.io/loader.js";t+="?t="+ggConfig.data.generated_at,e.getScript(t,!1,!0)}i.load()}};window.ggTracking=new function(){const e=this;this.is_sent=!1,this.title="",this.browser="",this.platform="",this.referer="",this.lang="",this.resolution="",this.location="",this.account_id=!1,this.visitor_uid="",this.new_session=!1,this.img=!1,this.test_mode=!1,this.ip=!1,this.check_unique=!0,this.track_mode="json",this.append_params={},this.track_response=!1,this.trackers=[],this.fire_tracking_update=!1,this.default_trackers_params={},this.queue=[],this.push_to_queue=!1;const t=window.location.href.indexOf("test_mode")>-1,o=/(?:k_clickid=)([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/,n=/_k_(.*)_k_/,i=[{KENSHOO_ID:{method:function(){const e=window.location.href.match(o);return e?e[1]:null}}},{KENSHOO_GCLID:{method:function(){const e=window.location.href.match(n);return e?e[1]:null}}},{ORBEE:{method:function(){return"orbee"!==ggConfig.get("tracking_provider")?null:e.trackExternalProvider("ORBEE",null,null,10,(function(){if(window.orb_user_id)return window.orb_user_id;if(window.orb&&window.orb.bootloader){const e=window.orb.bootloader.getState();return e&&e.user&&e.user.id?window.orb.bootloader.getState().user.id:null}}))}}},{FCA_ID:{cookieName:"fca_adobe_id",method:"onload"}},{GA:{method:function(){return ggConfig.get("ga_tracking_codes")?e.trackExternalProvider("GA",null,(function(){ggTracking.pumpQueue()}),30,(function(){const e=ggFramework.getCookie("_ga");if(!e)return t&&console.info("NULL GA CLIENT ID COOKIE"),null;const o=Object.values(ggConfig.get("ga_v4_measurement_ids")||{}),n=[];for(let e=0;e<o.length;e+=1){const t=ggFramework.getCookie(o[e].replace("G-","_ga_"));t&&n.push(t)}return n.length?e+"|"+n.join("|"):null})):(t&&console.info("NO GA CODES AVAILABLE"),!1)}}},{ASC_DATALAYER:{method:function(){return e.trackExternalProvider("ASC_DATALAYER",null,null,3,(function(){if(window.asc_datalayer){let e={};return["store_name","oem_code","oem_brand","affiliation","language","currency","page_type","item_category","item_color","item_condition","item_fuel_type","item_id","item_inventory_date","item_make","item_model","item_number","item_payment","item_price","item_type","item_variant","item_year"].forEach((t=>{if(e[t]=window.asc_datalayer[t]||"",window.asc_datalayer.items?.length){e.items=[];for(let t in window.asc_datalayer.items)e.items.push(window.asc_datalayer.items[t])}})),JSON.stringify(e)}}))}}},{FBP:{cookieName:"_fbp",method:"poll",pollDuration:15}},{MARKETO:{cookieName:"_mkto_trk",method:"poll",pollDuration:15}},{ADOBE_ANALYTICS:{getWindowName:()=>window.adobeDataLayer?.ecid,method:"poll",pollDuration:15}},{ROIQ:{method:function(){return e.trackExternalProvider("ROIQ",null,null,15,(function(){const e=ggFramework.getCookie("_tsaccid"),t=ggFramework.getCookie("_tsid");if(e&&t)return e+"!"+t}))}}},{WHATCONVERTS:{method:function(){return e.trackExternalProvider("WHATCONVERTS",null,null,5,(function(){if(window.oqhaqzwnbjgcpycneryg){const e=window.oqhaqzwnbjgcpycneryg("wc_client_current");if(e){const t=e.split("+..+");let o=["lead_source","lead_medium","lead_campaign","lead_content","lead_keyword","gclid","landing_url","user_id","msclkid"],n=[];for(let e in o)t[e]&&(n[o[e]]=t[e]);return{...n}}}}))}}}];this.fireAnalytics=function(){i.forEach((function(t){const o=Object.keys(t)[0];for(let n in t){const i=t[n];let r;"onload"===i.method&&i.value?r=i.value:"function"==typeof i.method?r=i.method():"poll"===i.method&&(r=e.trackExternalProvider(o,i.cookieName||i.getWindowName,i.callback||null,i.pollDuration)),r&&(e.trackers[o]=r)}}))},this.trackExternalProvider=function(o,n,i,r,a){let s=a&&"function"==typeof a?a():g();if(s)return i&&i(),s;function g(){if(!n)return;if("function"==typeof n)return n();const e=n.split("|");let t=[];for(let o in e){let n=ggFramework.getCookie(e[o])||"";n&&(t[o]=n)}return t.join("|")}e.setIntervalX(o,(function(){if(t&&console.info("LISTENER STARTED:",o),s=a&&"function"==typeof a?a():g(),s){if(e.clearIntervalX(o),o in e.trackers)return;e.trackers[o]=s;let n={...e.default_trackers_params,ta:"analytics_tag",ta_name:o,ta_value:s};e.fire_tracking_update&&(n.fire_tracking_update=!0),i&&i(),ggFramework.sendRequest(e.getRequestUrl(),n,ggTracking.onTrackResponse),t&&console.info("LISTENER COMPLETED:",o,n)}}),(function(){t&&console.info("COULD NOT LOAD DATA FOR:",o)}),1e3,r||60)},this.cookie_enabled=!0,this.init=function(e){this.account_id=e,this.getParams(),this.default_trackers_params={ver:"4.0",__ggtruid:this.visitor_uid,ref:this.referer,href:this.location.toString(),res:this.resolution,t:(new Date).getTime()},this.fireAnalytics()},this.shouldPushToQueue=function(){return this.cookie_enabled&&document.querySelector('script[src*="www.googletagmanager.com/gtag/js"]')&&!ggFramework.getCookie("_ga")&&!ggFramework.getCookie("gg_ignore_queue")},this.getParams=function(){document.title&&(this.page_title=this.title=document.title.replace(/^\s+|\s+$/g,"").substr(0,80)),document.referrer&&(this.referer=document.referrer),0===this.referer.toString().length&&(this.referer=this.getRequestParam("referer")),window.location&&(this.location=window.location),this.resolution=screen.width+"_"+screen.height,this.lang=(navigator.language||navigator.browserLanguage).substr(0,2),this.cookie_enabled=ggFramework.checkCookie(),this.shouldPushToQueue()&&(this.push_to_queue=!0,setTimeout((()=>{this.pumpQueue()}),1e4),t&&console.info("Pushing tracking events to queue until GA loaded or 10 seconds pass")),this.parseUserAgent(navigator.userAgent),this.check_unique&&this.checkUnique()},this.getByPattern=function(e,t,o){for(var n in t){const o=t[n];if("("===o[0]&&")"===o[o.length-1]){if(null!=new RegExp(o,"i").exec(e))return n}else if(e.indexOf(o)>=0)return n}return o},this.parseUserAgent=function(e){e=e.toLowerCase();let t=this.getByPattern(e,{ip:"iphone",ipad:"ipad",an:"android",bb:"blackberry",nk:"nokia",ipod:"ipod",ox:"mac os x",w2:"windows nt 5.0",w3:"windows nt 5.2",xp:"windows nt 5.1",vi:"windows nt 6.0",w7:"windows nt 6.1",w8:"windows nt 6.2",w81:"windows nt 6.3",w10:"windows nt 10.0",chrome_os:"cros",wn:"windows",ub:"ubuntu",lx:"linux",un:"(?:unix|bsd)",mo:"(?:midp|mobile|j2me|symbian)"},"un");const o=this.getByPattern(e,{bt:"(?:bot|crawl|spider|GoogleImageProxy|Googlebot|Baiduspider|bingbot|MJ12bot|Slurp;|MegaIndex|AhrefsBot|DotBot|JobboerseBot|SemrushBot|YandexBot|/web/snippet/|YandexImages|msnbot|seoscanners.net|SEOkicks-Robot|facebookexternalhit|CheckMarkNetwork|BingPreview|BLEXBot|SeznamBot|BUbiNG|adscanner|Qwantify|SISTRIX Crawler|Mail.RU_Bot|VoilaBot|DomainCrawler|Ask Jeeves|Google Favicon)",ff:"firefox",ie11:"(?:trident/7.0;.*rv:11.0)",ie10:"msie 10",ie9:"msie 9",ie8:"msie 8",edge:"edge",ie:"msie",ch:"chrome",fi:"fban/fbios",fa:"fban/fb4a",ig:"instagram",op:"opera",sf:"(?:safari|khtml)",mo:"(?:blackberry|nokia|midp|mobile|j2me|symbian)"},"un");return"bt"===o&&"un"===t&&(t="bt"),"mo"===o&&"un"===t&&(t="mo"),this.platform=t,this.browser=o,{platform:t,browser:o}},this.refreshSession=function(){ggFramework.setCookie("__ggtrses",1,{expires:1800,path:"/",domain:window.location.hostname})},this.checkUnique=function(){let t=ggFramework.getCookie("__ggtruid");const o=ggConfig.get("integration_provider"),n=ggConfig.get("integration_provider_id"),i=["ATUK","AT","NAKED_LIME","XTREAM","ATCA","KIA","KSL"];if(i.indexOf(o)>=0&&n){const i=ggFramework.getCookie("__ggipid");let r=e.getIntegrationMapData();i&&i!==n&&(r[o+"_"+n]?(t=r[o+"_"+n],e.setTrackingUUID(t)):t=!1),ggFramework.setCookie("__ggipid",n)}if(this.cookie_enabled){if(!t||t.toString().length<=0||"undefined"===t){if(t=this.guidGenerator(),i.indexOf(o)>=0&&n){let i=e.getIntegrationMapData();i[o+"_"+n]||(i[o+"_"+n]=t,ggFramework.setCookie("__gg_int_map",JSON.stringify(i)))}e.setTrackingUUID(t)}}else t=!1;this.visitor_uid=t;const r=ggFramework.getCookie("__ggtrses");this.new_session=!r||r.toString().length<=0,this.refreshSession()},this.setTrackingUUID=function(e){ggFramework.setCookie("__ggtruid",e,{expires:31536e3,path:"/",domain:window.location.hostname})},this.getIntegrationMapData=function(){let e=ggFramework.getCookie("__gg_int_map");return e?JSON.parse(e):{}},this.onTrackResponse=function(t){t.visitor_guid&&(e.visitor_uid=t.visitor_guid),e.track_response=t},this.sendRequest=function(e,o){if(this.push_to_queue)return void this.queue.push((()=>this.sendRequest(e,o)));let n;if(e||t&&console.info("sendRequest - send PV req; track mode:",this.track_mode),"json"===this.track_mode){n=this.prepareRequest(!0),n.data_type="json",window.location.hash&&(n.hash=window.location.hash.split("#").join("")),ggStorage&&ggStorage.enabled?n.firestamps=ggStorage.get("firestamps"):n.firestamps=ggFramework.getCookie("gg_firestamps"),window.ggStorage&&(n.tabs={po:ggStorage.get("po_tabs"),bb:ggStorage.get("bb_tab")}),window.gubagooCustomParams&&(n.custom_params=window.gubagooCustomParams);const t=e||ggTracking.onTrackResponse;o&&Object.entries(o).forEach((([e,t])=>{n[e]=t})),ggFramework.sendRequest(this.getRequestUrl(),n,t)}else this.img=new Image,n=this.prepareRequest(!0),this.img.src=this.getRequestUrl()+"?"+ggFramework.serialize(n);ggTracking.is_sent=!0},this.pumpQueue=function(){this.push_to_queue=!1,t&&console.info("Pumping tracking queue");for(let e=0;e<this.queue.length;e++)(0,this.queue[e])();this.queue.length=0,ggFramework.setCookie("gg_ignore_queue",1,{expires:86400,path:"/",domain:window.location.hostname})},this.trackAction=function(e,t,o){if(this.push_to_queue)return void this.queue.push((()=>this.trackAction(e,t,o)));this.refreshSession(),this.img=new Image;let n=this.prepareRequest(!1,e,t),i=this.getRequestUrl()+"?"+ggFramework.serialize(n);o&&(i=i+"&"+ggFramework.serialize(o)),ggHook.fire("on_track_action",{actionType:e,actionSubType:t}),this.img.src=i},this.prepareRequest=function(o,n,i){n=n||1;let r,a={ver:"4.0",__ggtruid:this.visitor_uid,title:null,href:this.location.toString(),res:this.resolution,ta:n,toolbar_id:ggConfig.data.toolbar_id};if(this.append_params)for(r in this.append_params)this.append_params.hasOwnProperty(r)&&(a[r]=this.append_params[r]);if(!a.tag&&ggConfig.data.track_append_params){let e=ggConfig.data.track_append_params;for(r in e)e.hasOwnProperty(r)&&(a[r]=e[r])}return o&&(a.pl=this.platform,a.br=this.browser,a.lang=this.lang),this.referer&&(a.ref=this.referer),void 0!==i&&i&&(a.tast=i),window.ggLoader&&window.ggLoader.isMobile&&(a.mobile="1"),this.new_session&&(a.__ggtrns="1",this.new_session=!1),this.cookie_enabled||(a.cookie_disabled=!0),this.page_title&&(a.page_title=this.page_title),t&&this.ip&&(a.test="1",a.ip=this.ip),a.t=(new Date).getTime(),e.trackers&&(a.tas=e.trackers),a},this.setIntervalX=function(t,o,n,i,r){e.clearIntervalX(t);let a=0;e[t]&&e.clearIntervalX(t),e[t]=window.setInterval((function(){window.ggFramework&&(o(),++a>=r&&(window.clearInterval(e[t]),n&&n()))}),i)},this.clearIntervalX=function(t){e[t]&&window.clearInterval(e[t]),e[t]=null},this.getRequestUrl=function(){return ggConfig.get("server_url")+"/c/"+this.account_id+"/"},this.guidGenerator=function(){const e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t=[e(),e(),e(),e(),e()].join("-");return`${(new Date).getTime()}.${e()}${t}${e()}${e()}`},this.getVisitorGuid=function(){return this.visitor_uid},this.getRequestParam=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},this.offerFormDisplayed=function(e,t,o=!0){if(!e||["da","db","mobile_invite","bb"].includes(t))return;let n,i;if(o){const t=`${this.visitor_uid}_offersOpened`,o=JSON.parse(ggStorage.get(t))??[];n=!o.includes(e),n&&(o.push(e),ggStorage.set(t,JSON.stringify(o)))}i=o?o&&n?"offer_form_first_engagement":"offer_show_by_click":"offer_popup",this.trackAction(i,null,{offer_id:e,event_type:"page_overlay"})},this.publisherCtaParams=function(e,t,o,n,i,r){return{element_subtype:"cta_button",element_color:t?((e,t)=>{let o="",n=e;for(;n&&!o;){const e=window.getComputedStyle(n);o=t?e.backgroundColor:e.color,n=n.parentElement}return o??"#00000000"})(t):"#00000000",event_action:"click",...e,event_action_result:i??"open",element_type:n??"digital_retailing_tool",element_text:o??"",element_order:t?(e=>{let{x:t,y:o}=e.getBoundingClientRect();const n=document.documentElement.clientWidth;return o+=window.scrollY,t+=window.scrollX,Math.round(o*n+t)})(t):0,link_url:r??""}},this.publisherCtaClick=function(e,t,o,n,i){this.trackAction(i??"publisher_cta_click",null,this.publisherCtaParams(null,e,t,n??"form",o))},this.publisherLinkClick=function(e,t,o,n){this.trackAction("publisher_cta_click",null,this.publisherCtaParams({element_subtype:"hyperlink"},e,t,n??"form","open",o))},this.formSubmitClick=function(e,t,o){o.screenX&&this.publisherCtaClick(e,t,"submit")}},ggTracking.init(ggConfig.get("account_id")),i.init()||(ggTracking.track_mode="pixel"),ggConfig.get("track_append_params")&&(ggTracking.append_params=ggConfig.get("track_append_params")),window.ggVars&&ggVars.disable_tracking||(ggTracking.version="4.0.3",ggTracking.sendRequest())}(ggFramework,ggConfig));